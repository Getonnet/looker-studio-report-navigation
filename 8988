<!DOCTYPE html>
<html>
<head>
  <title>Looker Studio Report Navigation</title>
  <style>
    /* Make the entire background of the embedded window transparent */
    body {
      background-color: transparent;
    }

    /* Dropdown styling */
    #pageSelector {
      font-family: 'Roboto', sans-serif; /* Set font to Roboto */
      font-size: 18px; /* Set font size */
      outline: none; /* Remove outline */
      border: 1px solid #ccc; /* Add a subtle border */
      border-radius: 4px; /* Add slight rounding */
      padding: 8px; /* Add padding inside the dropdown */
      background-color: white; /* Ensure the dropdown has a white background */
      color: #333; /* Set text color */
      width: 100%; /* Ensure the dropdown takes full width of its container */
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Optional: add subtle shadow */
    }

    /* Hover effect for better user interaction */
    #pageSelector:hover {
      border-color: #888; /* Change border color on hover */
    }
  </style>
  <script>
    // Define the report pages and their corresponding URLs
    const reportPages = {
      "Oversikt": "https://datastudio.google.com/reporting/your_report_id/page/oversikt",
      "Tabell": "https://datastudio.google.com/reporting/your_report_id/page/tabell",
      "Tidslinje": "https://datastudio.google.com/reporting/your_report_id/page/tidslinje",
      "Filter": "https://datastudio.google.com/reporting/your_report_id/page/filter"
    };

    // Function to handle page navigation when a selection is made
    function navigateToPage() {
      const selectedPage = document.getElementById("pageSelector").value;
      const pageUrl = reportPages[selectedPage];

      // If the URL is valid, navigate to the selected page in the parent window (full report)
      if (pageUrl) {
        window.top.location.href = pageUrl;
      }
    }

    // Function to detect and set the current page in the dropdown
    function setCurrentPage() {
      const currentUrl = window.location.href;

      // Loop through the reportPages to find the matching URL
      for (const [pageName, pageUrl] of Object.entries(reportPages)) {
        if (currentUrl.includes(pageUrl)) {
          document.getElementById("pageSelector").value = pageName; // Set dropdown to the current page
          break;
        }
      }
    }

    // Call the setCurrentPage function when the page loads
    window.onload = setCurrentPage;
  </script>
</head>
<body>
  <!-- Dropdown for selecting a report page -->
  <select id="pageSelector" onchange="navigateToPage()">
    <option value="" disabled>Select a page</option>
    <option value="Oversikt">Oversikt</option>
    <option value="Tabell">Tabell</option>
    <option value="Tidslinje">Tidslinje</option>
    <option value="Filter">Filter</option>
  </select>
</body>
</html>
